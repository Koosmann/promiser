<%= include indexHeader %>
    <%= include header %>
        <div id="content" ng-controller='Index'>

            <div id="main" class="bg-grey set-left"> 

                <ul class="nav nav-pills">
                    <li ng-repeat='option in options' ng-class="{'active': option.active}" ng-click='chooseOption($index)'>
                        <a href="#"><i class='{{ option.icon }}'></i></a>
                    </li>
                </ul>        

                <div class="borrow-form" ng-switch='currentOption.name' ng-cloak>
                    <div ng-switch-when='intro'>
                            <b>1.</b> Choose promise type above<br/>
                            <b>2.</b> Fill out the form & submit<br/>
                            <b>3.</b> Confirm your email
                            <br/><br/>
                            <span class='text-light'><b>& that's it</b> - once the recipient of the promises accepts, we'll take care of rest and remind you both when the due date approaches.</span>
                    </div>
                    <div ng-switch-default>
                            <form name='{{ currentOption.name }}' action='/create' ng-submit='testSubmit()' method='post'>
                                <input type='hidden' name='type' value='{{ currentOption.name }}' required />I, 
                                
                                <input p-input class='p-key-item' name='initiatorFirstName' ng-model='form.initiatorFirstName' placeholder='your first' type='text' required />
                                <input p-input class='p-key-item' name='initiatorLastName' ng-model='form.initiatorLastName' placeholder='& last name' type='text' required />
                                
                                <span class='p-key-item-group'>
                                    (<input p-input class='p-key-item-light' name='initiatorEmail' ng-model='form.initiatorEmail' placeholder='your email' type='email' required />),
                                </span>  
                                
                                <span ng-switch='currentOption.name'>
                                    <span ng-switch-when='payment'>
                                        owe 
                                        <span class='p-key-item-group'>
                                            <span class='p-key-item' ng-show='form.amount'>$</span>
                                            <input p-input p-int class='p-key-item' name='amount' ng-model='form.amount' placeholder='an amount' type='text' maxlength='13' required />
                                        </span> to 
                                    </span>
                                    <span ng-switch-when='product'>
                                        am borrowing 
                                        <span class='p-key-item-group'>
                                            <input p-input class='p-key-item' name='item' ng-model='form.item' placeholder='an item' type='text' required />
                                        </span> from 
                                    </span>
                                    <span ng-switch-when='service'>
                                        am agreeing to 
                                        <span class='p-key-item-group'>
                                            <input p-input class='p-key-item' name='service' ng-model='form.service' placeholder='do a service' type='text' required />
                                        </span> for 
                                    </span>
                                </span>
                                
                                <input p-input class='p-key-item' name='recipientFirstName' ng-model='form.recipientFirstName' placeholder='their first' type='text' required />
                                <input p-input class='p-key-item' name='recipientLastName' ng-model='form.recipientLastName' placeholder='& last name' type='text' required />
                                
                                <span class='p-key-item-group'>
                                    (<input p-input class='p-key-item-light' name='recipientEmail' ng-model='form.recipientEmail' placeholder='their email' type='email' required />)
                                </span> 

                                <span ng-switch='currentOption.name'>
                                    <span ng-switch-when='payment'>
                                         and promise to pay them within 
                                    </span>
                                    <span ng-switch-when='product'>
                                         and promise to return it to them within 
                                    </span>
                                    <span ng-switch-when='service'>
                                         and promise to do so within 
                                    </span>
                                </span>

                                <span class='p-key-item-group'>
                                    <input p-input p-int p-not-zero class='p-key-item' name='dueDaysFromNow' ng-model='form.dueDaysFromNow' placeholder='##' type='text' maxlength='2' required /> {{ form.dueDaysFromNow|pluralizeDays }}.
                                </span>
                                <br /><br />

                                <span ng-bind='error' class='text-neutral'></span>

                                <br/>
                                <input name='submit' id='submit' class='cta btn btn-default btn-lg' type='submit' value='Submit' ui-validate-form-requirements />
                            </form>
                    </div>
                </div>

            </div><!-- /#main -->


            <div id="aside" class="bg-grey set-right "></div><!-- /#aside -->

        </div><!-- /#content -->   

        <div id="footer"></div><!-- /#footer -->
<%= include indexFooter %>